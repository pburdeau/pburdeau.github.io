<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>{{ page.title }} · {{ site.title }}</title>
    <meta name="description" content="{{ site.description }}">
    <link rel="icon" href="/assets/img/favicon-satellite.svg" type="image/svg+xml">
    <link href="/assets/css/style.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" rel="stylesheet">
  </head>
  <body>
    <header class="site-hero">
      <div class="hero-inner">
        <nav class="site-nav">
          <button class="menu-toggle" aria-label="Toggle menu">☰</button>
          <div class="header-name">Philippine Burdeau</div>
          <div class="nav-links">
            <a href="/">Home</a>
            <a href="/research/">Research</a>
            <a href="/publications/">Publications</a>
            <a href="/talks/">Talks</a>
            <a href="/cv/">CV</a>
            <a href="/contact/">Contact</a>
          </div>
        </nav>
      </div>
    </header>
    <div id="scrollbar"></div>
    <main class="page">
      {{ content }}
    </main>
    <button id="toTop" aria-label="Back to top" title="Back to top">↑</button>
    <footer class="site-footer">
      <div class="footer-inner">
        <span>© {{ "now" | date: "%Y" }} {{ site.title }}</span>
      </div>
    </footer>
    <script>
    // Menu toggle for mobile
    (function(){
      const toggle = document.querySelector('.menu-toggle');
      const navLinks = document.querySelector('.nav-links');
      if (toggle && navLinks) {
        toggle.addEventListener('click', function() {
          navLinks.classList.toggle('active');
          this.classList.toggle('active');
        });
      }
    })();
    
    (function(){
      const bar = document.getElementById('scrollbar');
      if (!bar) return;
      function lerp(a,b,t){ return a + (b-a)*t; }
      function onScroll(){
        const sh = document.documentElement.scrollHeight;
        const ch = document.documentElement.clientHeight;
        const st = document.documentElement.scrollTop || document.body.scrollTop || 0;
        const t = Math.max(0, Math.min(1, st / (sh - ch)));
        const r = Math.round(lerp(17, 217, t)); 
        const g = Math.round(lerp(17, 119, t));
        const b = Math.round(lerp(17, 6, t));
        bar.style.width = (t * 100) + '%';
        bar.style.background = `rgb(${r}, ${g}, ${b})`;
      }
      window.addEventListener('scroll', onScroll, {passive:true});
      window.addEventListener('resize', onScroll);
      onScroll();
      const btn = document.getElementById('toTop');
      if (!btn) return;
      function toggle(){
        const y = window.scrollY || document.documentElement.scrollTop;
        btn.style.display = y > 600 ? 'flex' : 'none';
      }
      btn.addEventListener('click', ()=> window.scrollTo({top:0, behavior:'smooth'}));
      window.addEventListener('scroll', toggle, {passive:true});
      toggle();
    })();
    </script>
  </body>
</html>
